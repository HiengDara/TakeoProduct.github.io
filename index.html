<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Takeo Local Products</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <header>
        <div class="header-content">
            <img src="images/logo.png" alt="Takeo Khmer Products Logo" class="logo">
            <div class="header-text">
                <h1>Takeo Khmer Products Directory</h1>
                <p>Explore authentic local products made in Takeo Province, Cambodia</p>
            </div>

            <!-- Cart Icon -->
            <div class="cart-icon" onclick="toggleCart()">
                <i class="fas fa-shopping-cart fa-2x"></i>
                <span class="cart-count" id="cartCount">0</span>
            </div>

            <!-- Flag Dropdown -->
            <div class="dropdown">
                <button class="dropbtn">
                    <img src="https://flagcdn.com/gb.svg" width="20" alt="English" class="flag">
                    English
                </button>
                <div class="dropdown-content">
                    <div onclick="setLanguage('en')">
                        <img src="https://flagcdn.com/gb.svg" width="20" alt="English" class="flag"> English
                    </div>
                    <div onclick="setLanguage('km')">
                        <img src="https://flagcdn.com/kh.svg" width="20" alt="Khmer" class="flag"> ខ្មែរ
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Google Translate setup -->
    <div id="google_translate_element" style="display: none;"></div>
    <script type="text/javascript">
        function googleTranslateElementInit() {
            new google.translate.TranslateElement({
                pageLanguage: 'en',
                includedLanguages: 'en,km',
                layout: google.translate.TranslateElement.InlineLayout.SIMPLE
            }, 'google_translate_element');
        }
    </script>
    <script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

    <nav>
        <button onclick="showCategory('foods')" class="active">
            <i class="fas fa-utensils"></i> Foods & Drinks
        </button>
        <button onclick="showCategory('fashion')">
            <i class="fas fa-tshirt"></i> Fashion
        </button>
        <button onclick="showCategory('gifts')">
            <i class="fas fa-gift"></i> Gifts & Crafts
        </button>
    </nav>

    <div class="search-container">
        <input type="text" class="search-input" placeholder="Search products..." oninput="filterProducts()">
    </div>

    <div class="container">
        <section id="foods" class="active">
            <div class="products-grid">
                <div class="product">
                    <img src="images/palmsugar.png" alt="Palm Sugar" class="product-image">
                    <div class="product-content">
                        <h3>Organic Palm Sugar</h3>
                        <p>Sweet and natural palm sugar made by local farmers in Takeo using traditional methods.</p>
                        <div class="product-price">$3.50 - $15.00</div>
                        <button class="add-to-cart-btn"
                            onclick="addToCart('Organic Palm Sugar', 3.50, 'images/palmsugar.png')">
                            <i class="fas fa-cart-plus"></i> Add to Cart
                        </button>
                    </div>
                </div>

                <div class="product">
                    <img src="images/prohok.png" alt="Prahok" class="product-image">
                    <div class="product-content">
                        <h3>Takeo Special Prahok</h3>
                        <p>Premium fermented fish paste with unique Takeo flavor.</p>
                        <div class="product-price">$5.00 - $20.00</div>
                        <button class="add-to-cart-btn"
                            onclick="addToCart('Takeo Special Prahok', 5.00, 'images/prohok.png')">
                            <i class="fas fa-cart-plus"></i> Add to Cart
                        </button>
                    </div>
                </div>

                <div class="product">
                    <img src="images/bananachip.png" alt="Banana Chips" class="product-image">
                    <div class="product-content">
                        <h3>Crispy Banana Chips</h3>
                        <p>Crunchy snacks made from Takeo's sweet bananas.</p>
                        <div class="product-price">$2.00 - $8.00</div>
                        <button class="add-to-cart-btn" onclick="addToCart('Crispy Banana Chips', 2.00, 'images/bananachip.png')">
                            <i class="fas fa-cart-plus"></i> Add to Cart
                        </button>
                    </div>
                </div>
                
                <div class="product">
                    <img src="images/ricewine.png" alt="Rice Wine" class="product-image">
                    <div class="product-content">
                        <h3>Traditional Rice Wine</h3>
                        <p>Authentic Takeo rice wine with 30-day fermentation.</p>
                        <div class="product-price">$4.00 - $25.00</div>
                        <button class="add-to-cart-btn" onclick="addToCart('Traditional Rice Wine')" target="_blank">
                            <i class="fas fa-cart-plus"></i> Add to Cart
                        </button>
                    </div>
                </div>
                
                <div class="product">
                    <img src="images/pepper.png" alt="Pepper" class="product-image">
                    <div class="product-content">
                        <h3>Takeo-Grown Pepper</h3>
                        <p>Premium pepper with rich aroma from Takeo's soil.</p>
                        <div class="product-price">$6.00 - $30.00</div>
                        <button class="add-to-cart-btn" onclick="addToCart('Takeo-Grown Pepper')" target="_blank">
                            <i class="fas fa-cart-plus"></i> Add to Cart
                        </button>
                    </div>
                </div>
                
                <div class="product">
                    <img src="images/bamboostickyrice.png" alt="Sticky Rice" class="product-image">
                    <div class="product-content">
                        <h3>Takeo Fragrant Sticky Rice</h3>
                        <p>Premium quality sticky rice with natural aroma.</p>
                        <div class="product-price">$3.00 - $12.00</div>
                        <button class="add-to-cart-btn" onclick="addToCart('Takeo Fragrant Sticky Rice')" target="_blank">
                            <i class="fas fa-cart-plus"></i> Add to Cart
                        </button>
                    </div>
                </div>
                
                <div class="product">
                    <img src="images/coconutcandy.png" alt="Coconut Candy" class="product-image">
                    <div class="product-content">
                        <h3>Traditional Coconut Candy</h3>
                        <p>Sweet chewy candy made from fresh Takeo coconuts.</p>
                        <div class="product-price">$2.50 - $10.00</div>
                        <button class="add-to-cart-btn" onclick="addToCart('Traditional Coconut Candy')" target="_blank">
                            <i class="fas fa-cart-plus"></i> Add to Cart
                        </button>
                    </div>
                </div>
                
                <div class="product">
                    <img src="images/mangojam.png" alt="Mango Jam" class="product-image">
                    <div class="product-content">
                        <h3>Homemade Mango Jam</h3>
                        <p>100% natural jam from Takeo's sweet mangoes.</p>
                        <div class="product-price">$4.00 - $15.00</div>
                        <button class="add-to-cart-btn" onclick="addToCart('Homemade Mango Jam')" target="_blank">
                            <i class="fas fa-cart-plus"></i> Add to Cart
                        </button>
                    </div>
                </div>
                
                <div class="product">
                    <img src="images/lemongrasstea.png" alt="Lemongrass Tea" class="product-image">
                    <div class="product-content">
                        <h3>Organic Lemongrass Tea</h3>
                        <p>Dried lemongrass from Takeo's organic farms.</p>
                        <div class="product-price">$3.00 - $12.00</div>
                        <button class="add-to-cart-btn" onclick="addToCart('Organic Lemongrass Tea')" target="_blank">
                            <i class="fas fa-cart-plus"></i> Add to Cart
                        </button>
                    </div>
                </div>
                
                <div class="product">
                    <img src="images/driedfish.png" alt="Dried Fish" class="product-image">
                    <div class="product-content">
                        <h3>Takeo Dried Fish</h3>
                        <p>Sun-dried fish from Takeo's freshwater lakes.</p>
                        <div class="product-price">$5.00 - $20.00</div>
                        <button class="add-to-cart-btn" onclick="addToCart('Takeo Dried Fish')" target="_blank">
                            <i class="fas fa-cart-plus"></i> Add to Cart
                        </button>
                    </div>
                </div>
                
                <div class="product">
                    <img src="images/sesamecandy.png" alt="Sesame Candy" class="product-image">
                    <div class="product-content">
                        <h3>Sesame Seed Candy</h3>
                        <p>Crunchy sesame treats with palm sugar.</p>
                        <div class="product-price">$2.00 - $8.00</div>
                        <button class="add-to-cart-btn" onclick="addToCart('Sesame Seed Candy')" target="_blank">
                            <i class="fas fa-cart-plus"></i> Add to Cart
                        </button>
                    </div>
                </div>
                
                <div class="product">
                    <img src="images/stickyrice.png" alt="Bamboo Rice" class="product-image">
                    <div class="product-content">
                        <h3>Bamboo Sticky Rice</h3>
                        <p>Traditional rice cooked in bamboo tubes.</p>
                        <div class="product-price">$3.50 - $15.00</div>
                        <button class="add-to-cart-btn" onclick="addToCart('Bamboo Sticky Rice')" target="_blank">
                            <i class="fas fa-cart-plus"></i> Add to Cart
                        </button>
                    </div>
                </div>
                
                <div class="product">
                    <img src="images/pickle.png" alt="Pickled Vegetables" class="product-image">
                    <div class="product-content">
                        <h3>Traditional Pickles</h3>
                        <p>Mixed vegetables pickled in Takeo's special recipe.</p>
                        <div class="product-price">$2.50 - $10.00</div>
                        <button class="add-to-cart-btn" onclick="addToCart('Traditional Pickles')" target="_blank">
                            <i class="fas fa-cart-plus"></i> Add to Cart
                        </button>
                    </div>
                </div>
                
                <div class="product">
                    <img src="images/honey.png" alt="Honey" class="product-image">
                    <div class="product-content">
                        <h3>Wild Takeo Honey</h3>
                        <p>Pure honey from Takeo's forest areas.</p>
                        <div class="product-price">$6.00 - $25.00</div>
                        <button class="add-to-cart-btn" onclick="addToCart('Wild Takeo Honey')" target="_blank">
                            <i class="fas fa-cart-plus"></i> Add to Cart
                        </button>
                    </div>
                </div>
                
                <div class="product">
                    <img src="images/driedbananaflowe.png" alt="Banana Flower Salad" class="product-image">
                    <div class="product-content">
                        <h3>Dried Banana Flower</h3>
                        <p>For making traditional Khmer salads.</p>
                        <div class="product-price">$3.00 - $12.00</div>
                        <button class="add-to-cart-btn" onclick="addToCart('Dried Banana Flower')" target="_blank">
                            <i class="fas fa-cart-plus"></i> Add to Cart
                        </button>
                    </div>
                </div>
                
                <div class="product">
                    <img src="images/currypaste.png" alt="Kroeng Spice" class="product-image">
                    <div class="product-content">
                        <h3>Kroeng Curry Paste</h3>
                        <p>Traditional Khmer curry spice blend.</p>
                        <div class="product-price">$3.50 - $15.00</div>
                        <button class="add-to-cart-btn" onclick="addToCart('Kroeng Curry Paste')" target="_blank">
                            <i class="fas fa-cart-plus"></i> Add to Cart
                        </button>
                    </div>
                </div>
                
                <div class="product">
                    <img src="images/saltedduckegg.png" alt="Salted Eggs" class="product-image">
                    <div class="product-content">
                        <h3>Takeo Salted Duck Eggs</h3>
                        <p>Perfect for Khmer pork belly dishes.</p>
                        <div class="product-price">$1.00 - $5.00</div>
                        <button class="add-to-cart-btn" onclick="addToCart('Takeo Salted Duck Eggs')" target="_blank">
                            <i class="fas fa-cart-plus"></i> Add to Cart
                        </button>
                    </div>
                </div>
                
                <div class="product">
                    <img src="images/somokedfish.png" alt="Smoked Fish" class="product-image">
                    <div class="product-content">
                        <h3>Wood-Smoked Fish</h3>
                        <p>Traditional Takeo smoking method.</p>
                        <div class="product-price">$4.00 - $18.00</div>
                        <button class="add-to-cart-btn" onclick="addToCart('Wood-Smoked Fish')" target="_blank">
                            <i class="fas fa-cart-plus"></i> Add to Cart
                        </button>
                    </div>
                </div>
                
                <div class="product">
                    <img src="images/steamricecake.png" alt="Rice Cakes" class="product-image">
                    <div class="product-content">
                        <h3>Steamed Rice Cakes</h3>
                        <p>Soft and fluffy traditional snacks.</p>
                        <div class="product-price">$2.00 - $8.00</div>
                        <button class="add-to-cart-btn" onclick="addToCart('Steamed Rice Cakes')" target="_blank">
                            <i class="fas fa-cart-plus"></i> Add to Cart
                        </button>
                    </div>
                </div>
                
                <div class="product">
                    <img src="images/herbalteamix.png" alt="Herbal Tea" class="product-image">
                    <div class="product-content">
                        <h3>Takeo Herbal Tea Mix</h3>
                        <p>Traditional medicinal herbs blend.</p>
                        <div class="product-price">$3.50 - $15.00</div>
                        <button class="add-to-cart-btn" onclick="addToCart('Takeo Herbal Tea Mix')" target="_blank">
                            <i class="fas fa-cart-plus"></i> Add to Cart
                        </button>
                    </div>
                </div>
                <!-- More food products here (same structure as above) -->
                </div>
            </div>
        </section>

        <section id="fashion">
            <div class="products-grid">
                <div class="product">
                    <img src="images/Silk Krama Scarf.jpg" alt="Krama" class="product-image">
                    <div class="product-content">
                        <h3>Silk Krama Scarf</h3>
                        <p>Handwoven traditional Cambodian scarf from Takeo weavers using pure silk.</p>
                        <div class="product-price">$12.00 - $35.00</div>
                        <button class="add-to-cart-btn"
                            onclick="addToCart('Silk Krama Scarf', 12.00, 'images/Silk Krama Scarf.jpg')">
                            <i class="fas fa-cart-plus"></i> Add to Cart
                        </button>
                    </div>
                </div>

                <!-- More fashion products with Add to Cart buttons -->
            </div>
        </section>

        <section id="gifts">
            <div class="products-grid">
                <div class="product">
                    <img src="images/claypot.png" alt="Pottery" class="product-image">
                    <div class="product-content">
                        <h3>Clay Pottery Gift Set</h3>
                        <p>Handcrafted kitchen pottery and souvenirs from Takeo artisans using local clay.</p>
                        <div class="product-price">$10.00 - $60.00</div>
                        <button class="add-to-cart-btn"
                            onclick="addToCart('Clay Pottery Gift Set', 10.00, 'images/claypot.png')">
                            <i class="fas fa-cart-plus"></i> Add to Cart
                        </button>
                    </div>
                </div>

                <!-- More gift products with Add to Cart buttons -->
            </div>
        </section>
    </div>

    <!-- Cart Modal -->
    <div class="cart-modal" id="cartModal">
        <div class="cart-header">
            <h2>Your Cart</h2>
            <button class="close-cart" onclick="toggleCart()">&times;</button>
        </div>

        <div class="cart-items" id="cartItems">
            <!-- Cart items will be added here dynamically -->
            <div class="empty-cart-message" id="emptyCartMessage">
                <i class="fas fa-shopping-cart fa-3x"></i>
                <p>Your cart is empty</p>
            </div>
        </div>

        <div class="cart-total" id="cartTotal">
            Total: $0.00
        </div>

        <div class="checkout-form">
            <div class="form-group">
                <label for="location">Delivery Location</label>
                <select id="location">
                    <option value="">Select your location</option>
                    <option value="phnom_penh">Phnom Penh</option>
                    <option value="takeo">Takeo</option>
                    <option value="siem_reap">Siem Reap</option>
                    <option value="battambang">Battambang</option>
                    <option value="sihanoukville">Sihanoukville</option>
                    <option value="other">Other</option>
                </select>
            </div>

            <div class="form-group">
                <label for="payment">Payment Method</label>
                <select id="payment">
                    <option value="">Select payment method</option>
                    <option value="aba">ABA Pay</option>
                    <option value="wing">Wing</option>
                    <option value="cash">Cash on Delivery</option>
                    <option value="credit">Credit Card</option>
                </select>
            </div>

            <button class="checkout-btn" onclick="checkout()">Proceed to Checkout</button>
        </div>
    </div>

    <footer>
        <p>© 2023 Takeo Local Products Directory. All rights reserved.</p>
        <p>Supporting local artisans and small businesses in Takeo Province, Cambodia</p>
    </footer>

    <script>
        // Cart functionality
        let cart = [];

        // Function to show/hide the cart modal
        function toggleCart() {
            const cartModal = document.getElementById('cartModal');
            cartModal.classList.toggle('active');
        }

        // Function to add product to cart
        function addToCart(name, price, image) {
            // Check if product already in cart
            const existingItem = cart.find(item => item.name === name);

            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({
                    name: name,
                    price: price,
                    image: image,
                    quantity: 1
                });
            }

            updateCart();

            // Show notification
            alert(`${name} added to cart!`);
        }

        // Function to update cart UI
        function updateCart() {
            const cartCount = document.getElementById('cartCount');
            const cartItems = document.getElementById('cartItems');
            const cartTotal = document.getElementById('cartTotal');
            const emptyCartMessage = document.getElementById('emptyCartMessage');

            // Update cart count
            const totalItems = cart.reduce((total, item) => total + item.quantity, 0);
            cartCount.textContent = totalItems;

            // Clear cart items
            cartItems.innerHTML = '';

            if (cart.length === 0) {
                // Show empty cart message
                emptyCartMessage.style.display = 'block';
                cartItems.appendChild(emptyCartMessage);
            } else {
                // Hide empty cart message
                emptyCartMessage.style.display = 'none';

                // Add each item to cart
                let total = 0;

                cart.forEach((item, index) => {
                    const itemTotal = item.price * item.quantity;
                    total += itemTotal;

                    const cartItem = document.createElement('div');
                    cartItem.className = 'cart-item';
                    cartItem.innerHTML = `
                    <img src="${item.image}" alt="${item.name}" class="cart-item-image">
                    <div class="cart-item-details">
                        <div class="cart-item-name">${item.name}</div>
                        <div class="cart-item-price">$${item.price.toFixed(2)}</div>
                        <div class="cart-item-quantity">
                            <button class="quantity-btn" onclick="changeQuantity(${index}, -1)">-</button>
                            <input type="number" class="quantity-input" value="${item.quantity}" min="1" onchange="updateQuantity(${index}, this.value)">
                            <button class="quantity-btn" onclick="changeQuantity(${index}, 1)">+</button>
                            <button class="remove-item" onclick="removeFromCart(${index})">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                `;

                    cartItems.appendChild(cartItem);
                });

                // Update total
                cartTotal.textContent = `Total: $${total.toFixed(2)}`;
            }
        }

        // Function to change item quantity
        function changeQuantity(index, delta) {
            cart[index].quantity += delta;

            if (cart[index].quantity < 1) {
                cart[index].quantity = 1;
            }

            updateCart();
        }

        // Function to update quantity via input
        function updateQuantity(index, value) {
            const quantity = parseInt(value);

            if (isNaN(quantity) || quantity < 1) {
                cart[index].quantity = 1;
            } else {
                cart[index].quantity = quantity;
            }

            updateCart();
        }

        // Function to remove item from cart
        function removeFromCart(index) {
            cart.splice(index, 1);
            updateCart();
        }

        // Function to handle checkout
        function checkout() {
            const location = document.getElementById('location').value;
            const payment = document.getElementById('payment').value;

            if (!location || !payment) {
                alert('Please select both delivery location and payment method.');
                return;
            }

            if (cart.length === 0) {
                alert('Your cart is empty.');
                return;
            }

            alert('Thank you for your order! Your items will be processed soon.');
            cart = [];
            updateCart();
            toggleCart();

            // Reset form
            document.getElementById('location').value = '';
            document.getElementById('payment').value = '';
        }

        // Category navigation functionality
        function showCategory(categoryId) {
            // Hide all sections
            document.querySelectorAll('section').forEach(section => {
                section.classList.remove('active');
            });

            // Remove active class from all buttons
            document.querySelectorAll('nav button').forEach(button => {
                button.classList.remove('active');
            });

            // Show selected section
            document.getElementById(categoryId).classList.add('active');

            // Add active class to clicked button
            event.target.classList.add('active');
        }

        // Search functionality
        function filterProducts() {
            const searchTerm = document.querySelector('.search-input').value.toLowerCase();

            document.querySelectorAll('.product').forEach(product => {
                const productName = product.querySelector('h3').textContent.toLowerCase();
                const productDescription = product.querySelector('p').textContent.toLowerCase();

                if (productName.includes(searchTerm) || productDescription.includes(searchTerm)) {
                    product.style.display = 'block';
                } else {
                    product.style.display = 'none';
                }
            });
        }

        // Language functionality
        function setLanguage(lang) {
            const button = document.querySelector(".dropbtn");

            // Update UI
            if (lang === 'km') {
                button.innerHTML = '<img src="https://flagcdn.com/kh.svg" width="20" class="flag"> ខ្មែរ';
            } else {
                button.innerHTML = '<img src="https://flagcdn.com/gb.svg" width="20" class="flag"> English';
            }

            // Perform translation using Google Translate
            const combo = document.querySelector("select.goog-te-combo");
            if (combo) {
                combo.value = lang;
                combo.dispatchEvent(new Event("change"));
            } else {
                console.error("Google Translate not initialized yet.");
            }
        }
    </script>

</body>

</html>